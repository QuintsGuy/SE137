<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="styles.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    
    <title>Week 6 Lab | Software Designer</title>
</head>
<body>
    <main>
        <header>
            <div id="options_bar">
                <a href="#">File</a>
                <a href="#">Edit</a>
                <a href="#">Help</a>
            </div>
            <p>Week 6 Assignment</p>
            <button></button>
        </header>
        <section>
            <div class="navlist">
                <ul>
                    <li><button id="fileExplorer_btn"></button></li>
                    <li><button id="plugins_btn"></button></li>
                    <li><button id="delete_btn"></button></li>
                </ul>
            </div>
            <aside id="fileExplorer" class="navlist-content">
                <details>
                    <summary>Files</summary>
                    <p>File 1</p>
                    <p>File 2</p>
                    <p>File 3</p>
                    <p style="margin-bottom:20px">File 4</p>
                </details>
                <details>
                    <summary>Other Stuff</summary>
                    <p>Stuff 1</p>
                    <p>Stuff 2</p>
                </details>
            </aside>
            <aside id="plugins" class="navlist-content">
                <details>
                    <summary>Files</summary>
                    <p>File 1</p>
                    <p>File 2</p>
                    <p>File 3</p>
                    <p style="margin-bottom:20px">File 4</p>
                </details>
                <details>
                    <summary>Other Stuff</summary>
                    <p>Stuff 1</p>
                    <p>Stuff 2</p>
                </details>
            </aside>

            <script>

                const buttons = document.querySelectorAll(`.navlist button`);
                const navlists = document.querySelectorAll(`.navlist-content`);

                buttons.forEach((button, index) => {
                    button.addEventListener(`click`, () => {
                        navlists[index].classList.toggle(`active`);
                    })
                })

            </script>

            <div id="right_pane">
                <nav id="tabsContainer">
                    
                </nav>
                <p class="navigation"><u>SE 137</u> > <u>W6</u> > <u>Homework</u> > <u>Tab 1</u></p>
                <script>
        
                    const tabs = document.querySelectorAll('.tabs');

                    tabs.forEach(tab => {
                        tab.addEventListener('click', () => {
                            tabs.forEach(tab => tab.classList.remove('active'));
                            tab.classList.add('active');
                            const tabTitle = tab.querySelector('p').textContent;
                            const textArea = document.querySelector('textarea');
                            textArea.value = `${tabTitle} content`;
                        });
                    });

                    const files = document.querySelector('.navlist-content');

                    files.addEventListener('click', e => {
                        if (e.target.tagName === 'P') {
                            const tabTitle = e.target.textContent;
                            const tab = `
                            <div class="tabs">
                                <em></em>
                                <p>${tabTitle}</p>
                                <button></button>
                            </div>`;
                            const rightPane = document.querySelector('#right_pane');
                            const textArea = `
                            <textarea>${tabTitle} content</textarea>
                            `;
                            rightPane.querySelector('nav').insertAdjacentHTML('beforeend', tab);
                            rightPane.querySelector('.navigation').textContent = `SE 137 > W6 > Homework > ${tabTitle}`;
                            rightPane.querySelector('textarea').remove();
                            rightPane.insertAdjacentHTML('beforeend', textArea);
                            const tabs = document.querySelectorAll('.tabs');
                            tabs.forEach(tab => {
                                tab.addEventListener('click', () => {
                                    tabs.forEach(tab => tab.classList.remove('active'));
                                    tab.classList.add('active');
                                    const tabTitle = tab.querySelector('p').textContent;
                                    const textArea = document.querySelector('textarea');
                                    textArea.value = `${tabTitle} content`;
                                    rightPane.querySelector('.navigation').textContent = `SE 137 > W6 > Homework > ${tabTitle}`;
                                });
                            });

                            const buttons = document.querySelectorAll(`div.tabs button`)
                            
                            buttons.forEach(b => {
                                b.addEventListener(`click`, e =>{
                                    const tabsContainer = rightPane.querySelector('nav')

                                    tabsContainer.removeChild(b.parentElement)
                                })
                            })
                        }
                    });

                </script>
            
                <textarea></textarea>
            </div>
        </section>
        <footer>
            <p>Text goes here</p>
            <button></button>
        </footer>
    </main>
</body>
</html>